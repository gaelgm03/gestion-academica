<div class="dashboard-container">
  <h1>Dashboard - Gestión Académica</h1>

  <div *ngIf="loading" class="loading">
    <p>Cargando datos...</p>
  </div>

  <div *ngIf="error" class="error">
    <p>{{ error }}</p>
    <button (click)="loadDashboard()">Reintentar</button>
  </div>

  <div *ngIf="dashboardData && !loading" class="dashboard-content">
    <!-- Estadísticas principales -->
    <div class="stats-grid">
      <div class="stat-card">
        <h3>Total Docentes</h3>
        <p class="stat-number">{{ dashboardData.dashboard.total_docentes }}</p>
      </div>
      <div class="stat-card">
        <h3>Docentes Activos</h3>
        <p class="stat-number">{{ dashboardData.dashboard.docentes_activos }}</p>
      </div>
      <div class="stat-card">
        <h3>Docentes SNI</h3>
        <p class="stat-number">{{ dashboardData.dashboard.docentes_sni }}</p>
      </div>
      <div class="stat-card">
        <h3>Total Incidencias</h3>
        <p class="stat-number">{{ dashboardData.dashboard.total_incidencias }}</p>
      </div>
      <div class="stat-card">
        <h3>Incidencias Abiertas</h3>
        <p class="stat-number">{{ dashboardData.dashboard.incidencias_abiertas }}</p>
      </div>
    </div>

    <!-- Incidencias por estado -->
    <div class="section">
      <h2>Incidencias por Estado</h2>
      <div class="chart-container">
        <div *ngFor="let item of dashboardData.incidencias_por_estado" class="chart-item">
          <span class="label">{{ item.status }}</span>
          <span class="value">{{ item.cantidad }}</span>
        </div>
      </div>
    </div>

    <!-- Incidencias por prioridad -->
    <div class="section">
      <h2>Incidencias por Prioridad</h2>
      <div class="chart-container">
        <div *ngFor="let item of dashboardData.incidencias_por_prioridad" class="chart-item">
          <span class="label">{{ item.prioridad }}</span>
          <span class="value">{{ item.cantidad }}</span>
        </div>
      </div>
    </div>

    <!-- Docentes por estatus -->
    <div class="section">
      <h2>Docentes por Estatus</h2>
      <div class="chart-container">
        <div *ngFor="let item of dashboardData.docentes_por_estatus" class="chart-item">
          <span class="label">{{ item.estatus }}</span>
          <span class="value">{{ item.cantidad }}</span>
        </div>
      </div>
    </div>
  </div>
</div>
